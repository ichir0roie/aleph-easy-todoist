(()=>{var T=Object.defineProperty,G=Object.defineProperties;var K=Object.getOwnPropertyDescriptors;var z=Object.getOwnPropertySymbols;var X=Object.prototype.hasOwnProperty,Q=Object.prototype.propertyIsEnumerable;var E=(r,e,t)=>e in r?T(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,L=(r,e)=>{for(var t in e||(e={}))X.call(e,t)&&E(r,t,e[t]);if(z)for(var t of z(e))Q.call(e,t)&&E(r,t,e[t]);return r},R=(r,e)=>G(r,K(e)),ee=r=>T(r,"__esModule",{value:!0});var te=(r,e)=>{ee(r);for(var t in e)T(r,t,{get:e[t],enumerable:!0})};var I=(r,e,t)=>(E(r,typeof e!="symbol"?e+"":e,t),t),O=(r,e,t)=>{if(!e.has(r))throw TypeError("Cannot "+t)};var w=(r,e,t)=>(O(r,e,"read from private field"),t?t.call(r):e.get(r)),W=(r,e,t)=>{if(e.has(r))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(r):e.set(r,t)},Z=(r,e,t,a)=>(O(r,e,"write to private field"),a?a.call(r,t):e.set(r,t),t);var F={};te(F,{default:()=>B});var M=class{constructor(e=[]){I(this,"rules");this.rules=e}addRule(e,t){return this.rules.push({test:e,fn:t}),this}tokenize(e,t=a=>a){function*a(s){let n=0;for(let m of s){let f=m.test(e);if(f){let{value:b,length:v}=f;n+=v,e=e.slice(v);let k=R(L({},m.fn(b)),{index:n});yield t(k),yield*a(s)}}}let u=a(this.rules),o=[];for(let s of u)o.push(s);if(e.length)throw new Error(`parser error: string not fully parsed! ${e.slice(0,25)}`);return o}};function h(r,e=2){return String(r).padStart(e,"0")}function i(r){return e=>e.startsWith(r)?{value:r,length:r.length}:void 0}function q(r){return e=>{let t=r.exec(e);if(t)return{value:t,length:t[0].length}}}var re=[{test:i("yyyy"),fn:()=>({type:"year",value:"numeric"})},{test:i("yy"),fn:()=>({type:"year",value:"2-digit"})},{test:i("MM"),fn:()=>({type:"month",value:"2-digit"})},{test:i("M"),fn:()=>({type:"month",value:"numeric"})},{test:i("dd"),fn:()=>({type:"day",value:"2-digit"})},{test:i("d"),fn:()=>({type:"day",value:"numeric"})},{test:i("HH"),fn:()=>({type:"hour",value:"2-digit"})},{test:i("H"),fn:()=>({type:"hour",value:"numeric"})},{test:i("hh"),fn:()=>({type:"hour",value:"2-digit",hour12:!0})},{test:i("h"),fn:()=>({type:"hour",value:"numeric",hour12:!0})},{test:i("mm"),fn:()=>({type:"minute",value:"2-digit"})},{test:i("m"),fn:()=>({type:"minute",value:"numeric"})},{test:i("ss"),fn:()=>({type:"second",value:"2-digit"})},{test:i("s"),fn:()=>({type:"second",value:"numeric"})},{test:i("SSS"),fn:()=>({type:"fractionalSecond",value:3})},{test:i("SS"),fn:()=>({type:"fractionalSecond",value:2})},{test:i("S"),fn:()=>({type:"fractionalSecond",value:1})},{test:i("a"),fn:r=>({type:"dayPeriod",value:r})},{test:q(/^(')(?<value>\\.|[^\']*)\1/),fn:r=>({type:"literal",value:r.groups.value})},{test:q(/^.+?\s*/),fn:r=>({type:"literal",value:r[0]})}],p,x=class{constructor(e,t=re){W(this,p,void 0);let a=new M(t);Z(this,p,a.tokenize(e,({type:u,value:o,hour12:s})=>{let n={type:u,value:o};return s&&(n.hour12=s),n}))}format(e,t={}){let a="",u=t.timeZone==="UTC";for(let o of w(this,p))switch(o.type){case"year":{let n=u?e.getUTCFullYear():e.getFullYear();switch(o.value){case"numeric":{a+=n;break}case"2-digit":{a+=h(n,2).slice(-2);break}default:throw Error(`FormatterError: value "${o.value}" is not supported`)}break}case"month":{let n=(u?e.getUTCMonth():e.getMonth())+1;switch(o.value){case"numeric":{a+=n;break}case"2-digit":{a+=h(n,2);break}default:throw Error(`FormatterError: value "${o.value}" is not supported`)}break}case"day":{let n=u?e.getUTCDate():e.getDate();switch(o.value){case"numeric":{a+=n;break}case"2-digit":{a+=h(n,2);break}default:throw Error(`FormatterError: value "${o.value}" is not supported`)}break}case"hour":{let n=u?e.getUTCHours():e.getHours();switch(n-=o.hour12&&e.getHours()>12?12:0,o.value){case"numeric":{a+=n;break}case"2-digit":{a+=h(n,2);break}default:throw Error(`FormatterError: value "${o.value}" is not supported`)}break}case"minute":{let n=u?e.getUTCMinutes():e.getMinutes();switch(o.value){case"numeric":{a+=n;break}case"2-digit":{a+=h(n,2);break}default:throw Error(`FormatterError: value "${o.value}" is not supported`)}break}case"second":{let n=u?e.getUTCSeconds():e.getSeconds();switch(o.value){case"numeric":{a+=n;break}case"2-digit":{a+=h(n,2);break}default:throw Error(`FormatterError: value "${o.value}" is not supported`)}break}case"fractionalSecond":{let n=u?e.getUTCMilliseconds():e.getMilliseconds();a+=h(n,Number(o.value));break}case"timeZoneName":break;case"dayPeriod":{a+=o.value?e.getHours()>=12?"PM":"AM":"";break}case"literal":{a+=o.value;break}default:throw Error(`FormatterError: { ${o.type} ${o.value} }`)}return a}parseToParts(e){var a,u,o,s,n,m,f,b,v,k,$,D,P,H,_,A,Y;let t=[];for(let l of w(this,p)){let j=l.type,c="";switch(l.type){case"year":{switch(l.value){case"numeric":{c=(a=/^\d{1,4}/.exec(e))==null?void 0:a[0];break}case"2-digit":{c=(u=/^\d{1,2}/.exec(e))==null?void 0:u[0];break}}break}case"month":{switch(l.value){case"numeric":{c=(o=/^\d{1,2}/.exec(e))==null?void 0:o[0];break}case"2-digit":{c=(s=/^\d{2}/.exec(e))==null?void 0:s[0];break}case"narrow":{c=(n=/^[a-zA-Z]+/.exec(e))==null?void 0:n[0];break}case"short":{c=(m=/^[a-zA-Z]+/.exec(e))==null?void 0:m[0];break}case"long":{c=(f=/^[a-zA-Z]+/.exec(e))==null?void 0:f[0];break}default:throw Error(`ParserError: value "${l.value}" is not supported`)}break}case"day":{switch(l.value){case"numeric":{c=(b=/^\d{1,2}/.exec(e))==null?void 0:b[0];break}case"2-digit":{c=(v=/^\d{2}/.exec(e))==null?void 0:v[0];break}default:throw Error(`ParserError: value "${l.value}" is not supported`)}break}case"hour":{switch(l.value){case"numeric":{c=(k=/^\d{1,2}/.exec(e))==null?void 0:k[0],l.hour12&&parseInt(c)>12&&console.error("Trying to parse hour greater than 12. Use 'H' instead of 'h'.");break}case"2-digit":{c=($=/^\d{2}/.exec(e))==null?void 0:$[0],l.hour12&&parseInt(c)>12&&console.error("Trying to parse hour greater than 12. Use 'HH' instead of 'hh'.");break}default:throw Error(`ParserError: value "${l.value}" is not supported`)}break}case"minute":{switch(l.value){case"numeric":{c=(D=/^\d{1,2}/.exec(e))==null?void 0:D[0];break}case"2-digit":{c=(P=/^\d{2}/.exec(e))==null?void 0:P[0];break}default:throw Error(`ParserError: value "${l.value}" is not supported`)}break}case"second":{switch(l.value){case"numeric":{c=(H=/^\d{1,2}/.exec(e))==null?void 0:H[0];break}case"2-digit":{c=(_=/^\d{2}/.exec(e))==null?void 0:_[0];break}default:throw Error(`ParserError: value "${l.value}" is not supported`)}break}case"fractionalSecond":{c=(A=new RegExp(`^\\d{${l.value}}`).exec(e))==null?void 0:A[0];break}case"timeZoneName":{c=l.value;break}case"dayPeriod":{c=(Y=/^(A|P)M/.exec(e))==null?void 0:Y[0];break}case"literal":{if(!e.startsWith(l.value))throw Error(`Literal "${l.value}" not found "${e.slice(0,25)}"`);c=l.value;break}default:throw Error(`${l.type} ${l.value}`)}if(!c)throw Error(`value not valid for token { ${j} ${c} } ${e.slice(0,25)}`);t.push({type:j,value:c}),e=e.slice(c.length)}if(e.length)throw Error(`datetime string was not fully parsed! ${e.slice(0,25)}`);return t}sortDateTimeFormatPart(e){let t=[],a=["year","month","day","hour","minute","second","fractionalSecond"];for(let u of a){let o=e.findIndex(s=>s.type===u);o!==-1&&(t=t.concat(e.splice(o,1)))}return t=t.concat(e),t}partsToDate(e){let t=new Date,a=e.find(o=>o.type==="timeZoneName"&&o.value==="UTC"),u=e.find(o=>o.type==="day");a?t.setUTCHours(0,0,0,0):t.setHours(0,0,0,0);for(let o of e)switch(o.type){case"year":{let s=Number(o.value.padStart(4,"20"));a?t.setUTCFullYear(s):t.setFullYear(s);break}case"month":{let s=Number(o.value)-1;u?a?t.setUTCMonth(s,Number(u.value)):t.setMonth(s,Number(u.value)):a?t.setUTCMonth(s):t.setMonth(s);break}case"day":{let s=Number(o.value);a?t.setUTCDate(s):t.setDate(s);break}case"hour":{let s=Number(o.value),n=e.find(m=>m.type==="dayPeriod");(n==null?void 0:n.value)==="PM"&&(s+=12),a?t.setUTCHours(s):t.setHours(s);break}case"minute":{let s=Number(o.value);a?t.setUTCMinutes(s):t.setMinutes(s);break}case"second":{let s=Number(o.value);a?t.setUTCSeconds(s):t.setSeconds(s);break}case"fractionalSecond":{let s=Number(o.value);a?t.setUTCMilliseconds(s):t.setMilliseconds(s);break}}return t}parse(e){let t=this.parseToParts(e),a=this.sortDateTimeFormatPart(t);return this.partsToDate(a)}};p=new WeakMap;var ae=1e3,oe=ae*60,se=oe*60,ne=se*24,fe=ne*7;var J;(function(r){r[r.Sun=0]="Sun",r[r.Mon=1]="Mon",r[r.Tue=2]="Tue",r[r.Wed=3]="Wed",r[r.Thu=4]="Thu",r[r.Fri=5]="Fri",r[r.Sat=6]="Sat"})(J||(J={}));function g(r,e){return new x(e).format(r)}var S="9526b5ebe4706e61e07f8adf74517e7a67d2aa12";async function U(r="",e=new Date){let t="https://api.todoist.com/rest/v1/tasks",a={content:r,due_string:g(e,"yyyy-MM-dd")},u=globalThis.crypto.randomUUID(),o={"Content-Type":"application/json","X-Request-Id":u,Authorization:"Bearer "+S};console.log(r),console.log(e),console.log(S);let s=await fetch(t,{method:"POST",headers:o,body:JSON.stringify(a)});return console.log(s),s}var{default:d,useState:C}=__ALEPH__.pack["https://esm.sh/react@17.0.2"];function N({size:r=75}){let[e,t]=C(new Date),[a,u]=C(""),[o,s]=C("");function n(){console.log(a),U(a,e).then(async m=>{console.log(m);let f=await m.json();s(JSON.stringify(f))})}return d.createElement("body",{className:"bg-right"},d.createElement("div",{className:"container"},d.createElement("h4",{className:"mb-3"},"add task"),d.createElement("div",{className:"col-md-8 order-md-1"},d.createElement(V,{label:"content",value:a,setValue:u}),d.createElement("div",{className:"col-md-6 mb-3"}),d.createElement(V,{label:"due date",value:g(e,"yyyy/MM/dd"),setValue:t}),d.createElement("button",{className:"btn btn-primary",onClick:n},"send"),d.createElement("div",{className:"card"},d.createElement("div",{className:"card-body"},d.createElement("p",{className:"card-text"},o))))))}function V({label:r="",value:e="",setValue:t=null}){return d.createElement("div",{className:"col-md-6 mb-3"},d.createElement("label",{htmlFor:"firstName"},r),d.createElement("input",{type:"text",className:"form-control",id:"firstName",value:e,onChange:a=>t(a.target.value)}))}var{default:ce}=__ALEPH__.pack["https://deno.land/x/aleph@v0.3.0-beta.19/framework/react/components/Head.ts"],{default:y}=__ALEPH__.pack["https://esm.sh/react@17.0.2"];function B(){return y.createElement("div",{className:"page"},y.createElement(ce,null,y.createElement("title",null,"easy-todoist")),y.createElement(N,null))}__ALEPH__.pack["/pages/index.tsx"]=F;})();
